# BDD ä½¿ç”¨è€…å ´æ™¯ (Behavior-Driven Development Scenarios)

**å°ˆæ¡ˆ**: AI Audio Chat Visualizer
**ç‰ˆæœ¬**: v1.0.0
**æœ€å¾Œæ›´æ–°**: 2025-10-17
**æ¸¬è©¦æ¡†æ¶**: Gherkin Syntax (Given-When-Then)

---

## ğŸ“‹ æ–‡æª”ç›®çš„

æœ¬æ–‡æª”å®šç¾© AI Audio Chat Visualizer çš„ç«¯åˆ°ç«¯ä½¿ç”¨è€…å ´æ™¯ï¼Œä½¿ç”¨ Gherkin èªæ³•æ’°å¯«ï¼Œä»¥ä¾¿ï¼š
1. æ˜ç¢ºå®šç¾©ä½¿ç”¨è€…è¡Œç‚ºèˆ‡é æœŸçµæœ
2. ä½œç‚º E2E æ¸¬è©¦çš„åŸºç¤
3. ç¢ºä¿é–‹ç™¼ç¬¦åˆä½¿ç”¨è€…éœ€æ±‚
4. ä¿ƒé€²é–‹ç™¼åœ˜éšŠèˆ‡ PM çš„æºé€š

---

## ğŸ¯ æ ¸å¿ƒä½¿ç”¨è€…æ—…ç¨‹

### Feature 1: é¦–æ¬¡ä½¿ç”¨é«”é©—

#### Scenario 1.1: æ–°ç”¨æˆ¶é¦–æ¬¡é€²å…¥ç¶²ç«™

```gherkin
Feature: é¦–æ¬¡ä½¿ç”¨é«”é©—
  ä½œç‚ºæ–°ç”¨æˆ¶
  æˆ‘æƒ³è¦å¿«é€Ÿç†è§£å¦‚ä½•ä½¿ç”¨é€™å€‹æ‡‰ç”¨
  ä»¥ä¾¿é–‹å§‹èˆ‡ AI äº’å‹•

Scenario: æ–°ç”¨æˆ¶é¦–æ¬¡é€²å…¥ç¶²ç«™
  Given æˆ‘æ˜¯ç¬¬ä¸€æ¬¡è¨ªå• AI Audio Chat Visualizer
  When æˆ‘é–‹å•Ÿç¶²ç«™é¦–é 
  Then æˆ‘æ‡‰è©²çœ‹åˆ°æ­¡è¿ç•«é¢
  And æˆ‘æ‡‰è©²çœ‹åˆ°ã€Œé–‹å§‹é«”é©—ã€æŒ‰éˆ•
  And æˆ‘æ‡‰è©²çœ‹åˆ° 3D è¦–è¦ºåŒ–å‹•ç•«æ­£åœ¨é‹è¡Œ
  And é é¢è¼‰å…¥æ™‚é–“æ‡‰è©²å°‘æ–¼ 2 ç§’

  # é©—æ”¶æ¨™æº–
  # âœ“ é¦–é è¼‰å…¥ < 2 ç§’
  # âœ“ 3D è¦–è¦ºåŒ–è‡ªå‹•æ’­æ”¾
  # âœ“ UI å…ƒç´ æ¸…æ™°å¯è¦‹
```

#### Scenario 1.2: æˆæ¬Šéº¥å…‹é¢¨æ¬Šé™

```gherkin
Scenario: ç”¨æˆ¶æˆæ¬Šéº¥å…‹é¢¨æ¬Šé™
  Given æˆ‘åœ¨é¦–é é»æ“Šã€Œé–‹å§‹é«”é©—ã€
  When ç€è¦½å™¨å½ˆå‡ºéº¥å…‹é¢¨æ¬Šé™è«‹æ±‚
  And æˆ‘é»æ“Šã€Œå…è¨±ã€
  Then éº¥å…‹é¢¨åœ–ç¤ºæ‡‰è©²è®Šç‚ºå•Ÿç”¨ç‹€æ…‹
  And æ‡‰è©²é¡¯ç¤ºã€Œè«‹èªªè©±ã€æç¤º
  And éŸ³è¨Šæ³¢å½¢è¦–è¦ºåŒ–æ‡‰è©²é–‹å§‹é¡¯ç¤º

  # é©—æ”¶æ¨™æº–
  # âœ“ æ¬Šé™è«‹æ±‚é¡¯ç¤º
  # âœ“ æˆæ¬Šå¾Œä»‹é¢æ›´æ–°
  # âœ“ å³æ™‚éŸ³è¨Šè¦–è¦ºåŒ–
```

#### Scenario 1.3: æ‹’çµ•éº¥å…‹é¢¨æ¬Šé™çš„é™ç´šé«”é©—

```gherkin
Scenario: ç”¨æˆ¶æ‹’çµ•éº¥å…‹é¢¨æ¬Šé™
  Given æˆ‘åœ¨é¦–é é»æ“Šã€Œé–‹å§‹é«”é©—ã€
  When ç€è¦½å™¨å½ˆå‡ºéº¥å…‹é¢¨æ¬Šé™è«‹æ±‚
  And æˆ‘é»æ“Šã€Œæ‹’çµ•ã€
  Then æ‡‰è©²é¡¯ç¤ºæç¤ºè¨Šæ¯ã€Œéœ€è¦éº¥å…‹é¢¨æ¬Šé™ä¾†ä½¿ç”¨èªéŸ³åŠŸèƒ½ã€
  And æ‡‰è©²é¡¯ç¤ºã€Œæ”¹ç”¨æ–‡å­—è¼¸å…¥ã€æŒ‰éˆ•
  When æˆ‘é»æ“Šã€Œæ”¹ç”¨æ–‡å­—è¼¸å…¥ã€
  Then æ–‡å­—è¼¸å…¥æ¡†æ‡‰è©²é¡¯ç¤º
  And æˆ‘æ‡‰è©²èƒ½æ­£å¸¸è¼¸å…¥æ–‡å­—ä¸¦å°è©±

  # é©—æ”¶æ¨™æº–
  # âœ“ å‹å–„çš„éŒ¯èª¤æç¤º
  # âœ“ æä¾›æ›¿ä»£æ–¹æ¡ˆ
  # âœ“ é™ç´šé«”é©—å¯ç”¨
```

---

### Feature 2: 3D éŸ³è¨Šè¦–è¦ºåŒ–

#### Scenario 2.1: å³æ™‚éŸ³è¨Šè¦–è¦ºåŒ–

```gherkin
Feature: 3D éŸ³è¨Šè¦–è¦ºåŒ–
  ä½œç‚ºç”¨æˆ¶
  æˆ‘æƒ³è¦çœ‹åˆ°è²éŸ³çš„è¦–è¦ºåŒ–å‘ˆç¾
  ä»¥ä¾¿ç²å¾—æ²‰æµ¸å¼é«”é©—

Scenario: éŒ„éŸ³æ™‚çš„å³æ™‚è¦–è¦ºåŒ–
  Given æˆ‘å·²æˆæ¬Šéº¥å…‹é¢¨æ¬Šé™
  And æˆ‘åœ¨å°è©±é é¢
  When æˆ‘é»æ“Šéº¥å…‹é¢¨æŒ‰éˆ•é–‹å§‹éŒ„éŸ³
  And æˆ‘é–‹å§‹èªªè©±
  Then 3D ç²’å­æ‡‰è©²éš¨è‘—æˆ‘çš„è²éŸ³æŒ¯å¹…è®ŠåŒ–
  And è¦–è¦ºåŒ–æ‡‰è©²æœ‰é¡è‰²æ¼¸è®Šæ•ˆæœ
  And å¹€ç‡æ‡‰è©²ä¿æŒåœ¨ 30 FPS ä»¥ä¸Š

  # é©—æ”¶æ¨™æº–
  # âœ“ å»¶é² < 100ms
  # âœ“ FPS â‰¥ 30
  # âœ“ è¦–è¦ºæ•ˆæœæµæš¢
```

#### Scenario 2.2: AI å›æ‡‰æ™‚çš„è¦–è¦ºåŒ–

```gherkin
Scenario: AI èªéŸ³å›æ‡‰æ™‚çš„è¦–è¦ºåŒ–
  Given æˆ‘å·²å®Œæˆä¸€æ¬¡èªéŸ³è¼¸å…¥
  And AI æ­£åœ¨æ’­æ”¾èªéŸ³å›æ‡‰
  When AI èªéŸ³æ’­æ”¾
  Then 3D è¦–è¦ºåŒ–æ‡‰è©²éš¨ AI èªéŸ³è®ŠåŒ–
  And è¦–è¦ºåŒ–é¡è‰²æ‡‰è©²èˆ‡ç”¨æˆ¶è¼¸å…¥æ™‚ä¸åŒï¼ˆä¾‹å¦‚è—è‰² vs ç¶ è‰²ï¼‰
  And ç²’å­å¯†åº¦æ‡‰è©²åæ˜ éŸ³è¨ŠæŒ¯å¹…

  # é©—æ”¶æ¨™æº–
  # âœ“ åŒæ­¥å»¶é² < 50ms
  # âœ“ è¦–è¦ºå€åˆ†æ˜é¡¯
  # âœ“ æ•ˆæœé€£çºŒæµæš¢
```

#### Scenario 2.3: åˆ‡æ›è¦–è¦ºåŒ–æ¨¡å¼

```gherkin
Scenario: ç”¨æˆ¶åˆ‡æ›è¦–è¦ºåŒ–æ¨¡å¼
  Given æˆ‘åœ¨å°è©±é é¢
  When æˆ‘é»æ“Šè¦–è¦ºåŒ–æ¨¡å¼åˆ‡æ›æŒ‰éˆ•
  Then æ‡‰è©²é¡¯ç¤ºæ¨¡å¼é¸å–®ï¼ˆç²’å­ã€æ³¢å½¢ã€å¹¾ä½•é«”ï¼‰
  When æˆ‘é¸æ“‡ã€Œæ³¢å½¢ã€æ¨¡å¼
  Then 3D å ´æ™¯æ‡‰è©²åœ¨ 1 ç§’å…§åˆ‡æ›åˆ°æ³¢å½¢è¦–è¦ºåŒ–
  And æ–°æ¨¡å¼æ‡‰è©²å³æ™‚åæ‡‰éŸ³è¨Š

  # é©—æ”¶æ¨™æº–
  # âœ“ åˆ‡æ›æ™‚é–“ < 1 ç§’
  # âœ“ ç„¡å¡é “
  # âœ“ è‡³å°‘ 3 ç¨®æ¨¡å¼
```

---

### Feature 3: èªéŸ³å°è©±æµç¨‹

#### Scenario 3.1: å®Œæ•´çš„èªéŸ³å°è©±æµç¨‹

```gherkin
Feature: èªéŸ³å°è©±
  ä½œç‚ºç”¨æˆ¶
  æˆ‘æƒ³è¦ç”¨èªéŸ³èˆ‡ AI å°è©±
  ä»¥ä¾¿è§£æ”¾é›™æ‰‹ä¸¦ç²å¾—è‡ªç„¶é«”é©—

Scenario: å®Œæ•´çš„èªéŸ³å°è©±æµç¨‹
  Given æˆ‘å·²æˆæ¬Šéº¥å…‹é¢¨æ¬Šé™
  And æˆ‘åœ¨å°è©±é é¢
  When æˆ‘é»æ“Šéº¥å…‹é¢¨æŒ‰éˆ•
  And æˆ‘èªªã€Œä½ å¥½ï¼Œä½ æ˜¯èª°ï¼Ÿã€
  And æˆ‘é»æ“Šåœæ­¢éŒ„éŸ³
  Then éŒ„éŸ³æ‡‰è©²ä¸Šå‚³ä¸¦è½‰æ›ç‚ºæ–‡å­—
  And è½‰éŒ„æ–‡å­—æ‡‰è©²é¡¯ç¤ºã€Œä½ å¥½ï¼Œä½ æ˜¯èª°ï¼Ÿã€
  And æ‡‰è©²é¡¯ç¤ºã€ŒAI æ­£åœ¨æ€è€ƒ...ã€è¼‰å…¥å‹•ç•«
  When AI å›æ‡‰ç”Ÿæˆå®Œæˆ
  Then æ‡‰è©²é¡¯ç¤º AI å›æ‡‰æ–‡å­—
  And æ‡‰è©²è‡ªå‹•æ’­æ”¾ AI èªéŸ³
  And æ•´å€‹æµç¨‹æ‡‰è©²åœ¨ 10 ç§’å…§å®Œæˆ

  # é©—æ”¶æ¨™æº–
  # âœ“ STT æº–ç¢ºç‡ > 90%
  # âœ“ ç¸½å»¶é² < 10 ç§’
  # âœ“ TTS è‡ªç„¶åº¦ > 4/5
```

#### Scenario 3.2: å¤šè¼ªå°è©±ä¸Šä¸‹æ–‡è¨˜æ†¶

```gherkin
Scenario: AI è¨˜ä½å°è©±ä¸Šä¸‹æ–‡
  Given æˆ‘å·²å®Œæˆç¬¬ä¸€è¼ªå°è©±
  And æˆ‘å° AI èªªã€Œæˆ‘å« Aliceã€
  And AI å·²å›æ‡‰
  When æˆ‘é–‹å§‹ç¬¬äºŒè¼ªå°è©±
  And æˆ‘èªªã€Œæˆ‘çš„åå­—æ˜¯ä»€éº¼ï¼Ÿã€
  Then AI æ‡‰è©²å›æ‡‰åŒ…å«ã€ŒAliceã€
  And å°è©±æ­·å²æ‡‰è©²é¡¯ç¤ºå…©è¼ªå°è©±

  # é©—æ”¶æ¨™æº–
  # âœ“ è¨˜ä½è‡³å°‘ 10 è¼ªå°è©±
  # âœ“ ä¸Šä¸‹æ–‡ç›¸é—œæ€§ > 85%
```

#### Scenario 3.3: ä¸­æ–· AI å›æ‡‰

```gherkin
Scenario: ç”¨æˆ¶ä¸­æ–· AI èªéŸ³å›æ‡‰
  Given AI æ­£åœ¨æ’­æ”¾èªéŸ³å›æ‡‰
  And å›æ‡‰å°šæœªæ’­æ”¾å®Œç•¢
  When æˆ‘é»æ“Šã€Œåœæ­¢ã€æŒ‰éˆ•
  Then èªéŸ³æ’­æ”¾æ‡‰è©²ç«‹å³åœæ­¢
  And è¦–è¦ºåŒ–æ‡‰è©²åœæ­¢è®ŠåŒ–
  And æˆ‘æ‡‰è©²èƒ½ç«‹å³é–‹å§‹æ–°ä¸€è¼ªå°è©±

  # é©—æ”¶æ¨™æº–
  # âœ“ åœæ­¢å»¶é² < 200ms
  # âœ“ ç„¡æ®˜ç•™éŸ³è¨Š
```

---

### Feature 4: å°è©±æ­·å²èˆ‡ç®¡ç†

#### Scenario 4.1: æŸ¥çœ‹å°è©±æ­·å²

```gherkin
Feature: å°è©±æ­·å²
  ä½œç‚ºç”¨æˆ¶
  æˆ‘æƒ³è¦æŸ¥çœ‹éå¾€çš„å°è©±è¨˜éŒ„
  ä»¥ä¾¿å›é¡§å…§å®¹

Scenario: æŸ¥çœ‹å°è©±æ­·å²
  Given æˆ‘å·²å®Œæˆ 5 è¼ªå°è©±
  When æˆ‘å‘ä¸‹æ»¾å‹•å°è©±å€åŸŸ
  Then æ‡‰è©²çœ‹åˆ°æ‰€æœ‰ 5 è¼ªå°è©±
  And æ¯è¼ªå°è©±æ‡‰è©²æ¸…æ¥šæ¨™ç¤ºç”¨æˆ¶/AI
  And æ¯è¼ªå°è©±æ‡‰è©²é¡¯ç¤ºæ™‚é–“æˆ³è¨˜

  # é©—æ”¶æ¨™æº–
  # âœ“ å°è©±å®Œæ•´ä¿å­˜
  # âœ“ æ™‚é–“æˆ³è¨˜æ­£ç¢º
  # âœ“ æ»¾å‹•æµæš¢
```

#### Scenario 4.2: æ¸…é™¤å°è©±æ­·å²

```gherkin
Scenario: ç”¨æˆ¶æ¸…é™¤å°è©±æ­·å²
  Given æˆ‘æœ‰ 5 è¼ªå°è©±è¨˜éŒ„
  When æˆ‘é»æ“Šã€Œæ–°å°è©±ã€æŒ‰éˆ•
  Then æ‡‰è©²å½ˆå‡ºç¢ºèªå°è©±æ¡†ã€Œç¢ºå®šè¦é–‹å§‹æ–°å°è©±å—ï¼Ÿã€
  When æˆ‘é»æ“Šã€Œç¢ºå®šã€
  Then å°è©±æ­·å²æ‡‰è©²æ¸…ç©º
  And AI æ‡‰è©²å¿˜è¨˜ä¹‹å‰çš„ä¸Šä¸‹æ–‡
  And 3D å ´æ™¯æ‡‰è©²é‡ç½®

  # é©—æ”¶æ¨™æº–
  # âœ“ ç¢ºèªå°è©±æ¡†é¡¯ç¤º
  # âœ“ æ­·å²å®Œå…¨æ¸…é™¤
  # âœ“ å ´æ™¯é‡ç½®
```

---

### Feature 5: éŒ¯èª¤è™•ç†èˆ‡å®¹éŒ¯

#### Scenario 5.1: ç¶²è·¯ä¸­æ–·è™•ç†

```gherkin
Feature: éŒ¯èª¤è™•ç†
  ä½œç‚ºç”¨æˆ¶
  æˆ‘æƒ³è¦åœ¨ç™¼ç”ŸéŒ¯èª¤æ™‚ç²å¾—æ¸…æ¥šçš„æç¤º
  ä»¥ä¾¿çŸ¥é“å¦‚ä½•è™•ç†

Scenario: ç¶²è·¯ä¸­æ–·æ™‚çš„éŒ¯èª¤è™•ç†
  Given æˆ‘æ­£åœ¨éŒ„éŸ³
  When ç¶²è·¯é€£ç·šä¸­æ–·
  And æˆ‘å®ŒæˆéŒ„éŸ³
  Then æ‡‰è©²é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€Œç¶²è·¯é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯ã€
  And æ‡‰è©²æä¾›ã€Œé‡è©¦ã€æŒ‰éˆ•
  When ç¶²è·¯æ¢å¾©
  And æˆ‘é»æ“Šã€Œé‡è©¦ã€
  Then æ‡‰è©²é‡æ–°ä¸Šå‚³éŸ³è¨Šä¸¦è™•ç†

  # é©—æ”¶æ¨™æº–
  # âœ“ éŒ¯èª¤æç¤ºå‹å–„
  # âœ“ æä¾›é‡è©¦æ©Ÿåˆ¶
  # âœ“ è‡ªå‹•åµæ¸¬ç¶²è·¯æ¢å¾©
```

#### Scenario 5.2: API è¶…æ™‚è™•ç†

```gherkin
Scenario: API å›æ‡‰è¶…æ™‚
  Given æˆ‘å·²ç™¼é€èªéŸ³è«‹æ±‚
  When API å›æ‡‰æ™‚é–“è¶…é 15 ç§’
  Then æ‡‰è©²é¡¯ç¤ºã€Œè™•ç†æ™‚é–“è¼ƒé•·ï¼Œè«‹ç¨å€™...ã€
  When è¶…é 30 ç§’ä»ç„¡å›æ‡‰
  Then æ‡‰è©²é¡¯ç¤ºã€Œä¼ºæœå™¨å›æ‡‰è¶…æ™‚ï¼Œè«‹é‡è©¦ã€
  And æä¾›ã€Œé‡è©¦ã€èˆ‡ã€Œå–æ¶ˆã€æŒ‰éˆ•

  # é©—æ”¶æ¨™æº–
  # âœ“ è¶…æ™‚é–¾å€¼: 30 ç§’
  # âœ“ å‹å–„æç¤º
  # âœ“ å¯é‡è©¦/å–æ¶ˆ
```

#### Scenario 5.3: èªéŸ³è¾¨è­˜å¤±æ•—

```gherkin
Scenario: èªéŸ³è¾¨è­˜æº–ç¢ºç‡éä½
  Given æˆ‘åœ¨å˜ˆé›œç’°å¢ƒéŒ„éŸ³
  When èªéŸ³è½‰æ–‡å­—æº–ç¢ºç‡ < 60%
  Then æ‡‰è©²é¡¯ç¤ºè½‰éŒ„æ–‡å­—ä¸¦æ¨™è¨»ã€Œè¾¨è­˜å¯èƒ½ä¸æº–ç¢ºã€
  And æ‡‰è©²æä¾›ã€Œç·¨è¼¯æ–‡å­—ã€æŒ‰éˆ•
  When æˆ‘é»æ“Šã€Œç·¨è¼¯æ–‡å­—ã€
  Then æ‡‰è©²é¡¯ç¤ºå¯ç·¨è¼¯çš„æ–‡å­—æ¡†
  And æˆ‘æ‡‰è©²èƒ½ä¿®æ”¹ä¸¦é‡æ–°æäº¤

  # é©—æ”¶æ¨™æº–
  # âœ“ ä½æº–ç¢ºç‡æç¤º
  # âœ“ å¯æ‰‹å‹•ä¿®æ­£
```

---

### Feature 6: æ•ˆèƒ½èˆ‡å„ªåŒ–

#### Scenario 6.1: ä½éšè£ç½®é™ç´š

```gherkin
Feature: æ•ˆèƒ½å„ªåŒ–
  ä½œç‚ºä½éšè£ç½®ç”¨æˆ¶
  æˆ‘å¸Œæœ›æ‡‰ç”¨ä»èƒ½æµæš¢é‹è¡Œ
  ä»¥ä¾¿ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½

Scenario: åµæ¸¬åˆ°ä½æ•ˆèƒ½è‡ªå‹•é™ç´š
  Given æˆ‘ä½¿ç”¨ä½éšæ‰‹æ©Ÿï¼ˆGPU æ•ˆèƒ½ä¸è¶³ï¼‰
  When é é¢è¼‰å…¥ä¸¦åµæ¸¬è£ç½®æ•ˆèƒ½
  Then æ‡‰è©²é¡¯ç¤ºæç¤ºã€Œå·²å•Ÿç”¨æ•ˆèƒ½æ¨¡å¼ã€
  And 3D è¦–è¦ºåŒ–æ‡‰è©²é™ç´šç‚º 2D Canvas
  And å¹€ç‡æ‡‰è©²ä¿æŒåœ¨ 20 FPS ä»¥ä¸Š
  And æ ¸å¿ƒåŠŸèƒ½ï¼ˆSTT/Chat/TTSï¼‰æ‡‰è©²æ­£å¸¸é‹ä½œ

  # é©—æ”¶æ¨™æº–
  # âœ“ è‡ªå‹•åµæ¸¬è£ç½®
  # âœ“ é™ç´šæç¤º
  # âœ“ FPS â‰¥ 20
  # âœ“ æ ¸å¿ƒåŠŸèƒ½å¯ç”¨
```

#### Scenario 6.2: åœ–ç‰‡èˆ‡è³‡æºå„ªåŒ–

```gherkin
Scenario: è³‡æºè¼‰å…¥å„ªåŒ–
  Given æˆ‘é¦–æ¬¡è¨ªå•ç¶²ç«™
  When é é¢é–‹å§‹è¼‰å…¥
  Then é—œéµè³‡æºæ‡‰è©²å„ªå…ˆè¼‰å…¥ï¼ˆCSS, JSï¼‰
  And åœ–ç‰‡æ‡‰è©²ä½¿ç”¨ lazy loading
  And 3D æ¨¡å‹æ‡‰è©²ä½¿ç”¨æ¼¸é€²å¼è¼‰å…¥
  And é¦–æ¬¡å…§å®¹ç¹ªè£½ï¼ˆFCPï¼‰æ‡‰è©² < 1 ç§’

  # é©—æ”¶æ¨™æº–
  # âœ“ FCP < 1 ç§’
  # âœ“ LCP < 2.5 ç§’
  # âœ“ Lazy loading é‹ä½œ
```

---

### Feature 7: è·¨ç€è¦½å™¨å…¼å®¹æ€§

#### Scenario 7.1: Chrome ç€è¦½å™¨æ”¯æ´

```gherkin
Feature: è·¨ç€è¦½å™¨å…¼å®¹æ€§
  ä½œç‚ºç”¨æˆ¶
  æˆ‘å¸Œæœ›åœ¨ä¸åŒç€è¦½å™¨éƒ½èƒ½ä½¿ç”¨
  ä»¥ä¾¿éˆæ´»é¸æ“‡

Scenario: åœ¨ Chrome ä¸Šå®Œæ•´åŠŸèƒ½é‹ä½œ
  Given æˆ‘ä½¿ç”¨ Chrome ç€è¦½å™¨ï¼ˆç‰ˆæœ¬ 90+ï¼‰
  When æˆ‘åŸ·è¡Œå®Œæ•´å°è©±æµç¨‹
  Then æ‰€æœ‰åŠŸèƒ½æ‡‰è©²æ­£å¸¸é‹ä½œ
  And 3D è¦–è¦ºåŒ–æ‡‰è©²æµæš¢
  And WebGL æ”¯æ´æ‡‰è©²æ­£å¸¸
  And éŸ³è¨Š API æ‡‰è©²æ­£å¸¸

  # é©—æ”¶æ¨™æº–
  # âœ“ Chrome 90+ å®Œå…¨æ”¯æ´
  # âœ“ ç„¡ä¸»æ§å°éŒ¯èª¤
```

#### Scenario 7.2: Safari ç€è¦½å™¨å…¼å®¹

```gherkin
Scenario: Safari ä¸Šçš„å…¼å®¹æ€§è™•ç†
  Given æˆ‘ä½¿ç”¨ Safari ç€è¦½å™¨ï¼ˆç‰ˆæœ¬ 14+ï¼‰
  When æˆ‘åŸ·è¡Œå°è©±æµç¨‹
  Then Web Audio API æ‡‰è©²æ­£å¸¸é‹ä½œ
  And MediaRecorder æ‡‰è©²æ­£å¸¸éŒ„éŸ³
  And è‹¥æœ‰ä¸æ”¯æ´åŠŸèƒ½æ‡‰è©²é¡¯ç¤ºæç¤º
  And æ‡‰è©²æä¾› Chrome ä¸‹è¼‰é€£çµ

  # é©—æ”¶æ¨™æº–
  # âœ“ Safari 14+ åŸºæœ¬æ”¯æ´
  # âœ“ ä¸æ”¯æ´åŠŸèƒ½å‹å–„æç¤º
```

---

## ğŸ¯ é‡åŒ–é©—æ”¶æ¨™æº–ç¸½è¦½

| é¡åˆ¥ | æŒ‡æ¨™ | ç›®æ¨™å€¼ | å„ªå…ˆç´š |
|-----|------|-------|-------|
| **æ•ˆèƒ½** | é¦–é è¼‰å…¥æ™‚é–“ | < 2 ç§’ | P0 |
| | API ç¸½å»¶é² | < 10 ç§’ | P0 |
| | 3D æ¸²æŸ“ FPS (æ¡Œé¢) | â‰¥ 60 | P0 |
| | 3D æ¸²æŸ“ FPS (æ‰‹æ©Ÿ) | â‰¥ 30 | P0 |
| | éŸ³è¨Šè¦–è¦ºåŒ–å»¶é² | < 100ms | P0 |
| **æº–ç¢ºæ€§** | STT è¾¨è­˜æº–ç¢ºç‡ | > 90% | P0 |
| | Chat ç›¸é—œæ€§ | > 85% | P0 |
| | TTS è‡ªç„¶åº¦ (MOS) | > 4/5 | P0 |
| **å¯ç”¨æ€§** | æ–°ç”¨æˆ¶ä¸Šæ‰‹æ™‚é–“ | < 1 åˆ†é˜ | P0 |
| | å°è©±è¼ªæ¬¡è¨˜æ†¶ | â‰¥ 10 è¼ª | P1 |
| | éŒ¯èª¤æ¢å¾©ç‡ | 100% | P0 |
| **å…¼å®¹æ€§** | Chrome æ”¯æ´ | 90+ | P0 |
| | Safari æ”¯æ´ | 14+ | P1 |
| | Firefox æ”¯æ´ | 88+ | P1 |
| | æ‰‹æ©Ÿæ”¯æ´ | iOS 14+, Android 10+ | P1 |

---

## ğŸ§ª æ¸¬è©¦åŸ·è¡Œè¨ˆåŠƒ

### Phase 1: å–®å…ƒæ¸¬è©¦ï¼ˆWeek 2ï¼‰
- [ ] STT æœå‹™æ¸¬è©¦
- [ ] Chat æœå‹™æ¸¬è©¦
- [ ] TTS æœå‹™æ¸¬è©¦
- [ ] 3D è¦–è¦ºåŒ–å…ƒä»¶æ¸¬è©¦

### Phase 2: æ•´åˆæ¸¬è©¦ï¼ˆWeek 2-3ï¼‰
- [ ] å®Œæ•´å°è©±æµç¨‹æ¸¬è©¦
- [ ] API æ•´åˆæ¸¬è©¦
- [ ] éŒ¯èª¤è™•ç†æ¸¬è©¦

### Phase 3: E2E æ¸¬è©¦ï¼ˆWeek 3ï¼‰
- [ ] ä½¿ç”¨ Playwright/Cypress åŸ·è¡Œæ‰€æœ‰ BDD å ´æ™¯
- [ ] è·¨ç€è¦½å™¨æ¸¬è©¦
- [ ] è·¨è£ç½®æ¸¬è©¦

### Phase 4: æ•ˆèƒ½æ¸¬è©¦ï¼ˆWeek 3ï¼‰
- [ ] Lighthouse æ¸¬è©¦
- [ ] WebPageTest æ¸¬è©¦
- [ ] å£“åŠ›æ¸¬è©¦ï¼ˆä¸¦ç™¼ç”¨æˆ¶ï¼‰

---

## ğŸ“ é™„éŒ„

### BDD æ¸¬è©¦æ¡†æ¶å»ºè­°

**æ¨è–¦æ¡†æ¶**ï¼š
1. **Playwright** (é¦–é¸)
   - å„ªç§€çš„è·¨ç€è¦½å™¨æ”¯æ´
   - å…§å»ºéŒ„å½±èˆ‡æˆªåœ–
   - TypeScript åŸç”Ÿæ”¯æ´

2. **Cypress**
   - å„ªç§€çš„é–‹ç™¼è€…é«”é©—
   - Time-travel debugging
   - è±å¯Œçš„ assertion åº«

**ç¯„ä¾‹æ¸¬è©¦ç¨‹å¼ç¢¼**ï¼š
```typescript
// tests/e2e/first-use.spec.ts
import { test, expect } from '@playwright/test';

test('æ–°ç”¨æˆ¶é¦–æ¬¡é€²å…¥ç¶²ç«™', async ({ page }) => {
  // Given
  await page.goto('/');

  // When
  const loadTime = await page.evaluate(() => performance.now());

  // Then
  expect(loadTime).toBeLessThan(2000);
  await expect(page.locator('[data-testid="start-button"]')).toBeVisible();
  await expect(page.locator('canvas')).toBeVisible(); // 3D Canvas
});

test('æˆæ¬Šéº¥å…‹é¢¨æ¬Šé™', async ({ page, context }) => {
  // Grant microphone permission
  await context.grantPermissions(['microphone']);

  // Given
  await page.goto('/');

  // When
  await page.click('[data-testid="start-button"]');

  // Then
  await expect(page.locator('[data-testid="mic-icon"]')).toHaveClass(/active/);
  await expect(page.locator('[data-testid="audio-wave"]')).toBeVisible();
});
```

---

## ğŸ”— ç›¸é—œæ–‡æª”

- [PRD (ç”¢å“éœ€æ±‚æ–‡ä»¶)](./PRD.md)
- [API è¦æ ¼](../dev/api/)
- [æ¸¬è©¦è¨ˆåŠƒ](../dev/testing/)

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0.0
**ç¸½å ´æ™¯æ•¸**: 18 å€‹
**è¦†è“‹åŠŸèƒ½**: 7 å€‹æ ¸å¿ƒåŠŸèƒ½
**ä¸‹æ¬¡å¯©æŸ¥**: 2025-10-24
